<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>From 2025 With Gratitude, Into 2026 With Hope</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #0a0a1a;
            color: #f0f0f0;
            overflow-x: hidden;
            line-height: 1.6;
            scroll-behavior: smooth;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        /* Opening Scene - Enhanced */
        .section {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }
        
        #opening-scene {
            background: linear-gradient(135deg, #0c0b1d 0%, #1a0b2e 25%, #0d1b2a 50%, #1d0b2e 75%, #0c0b1d 100%);
            background-size: 400% 400%;
            text-align: center;
            animation: gradientFlow 15s ease infinite;
        }
        
        @keyframes gradientFlow {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        .stars {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
        }
        
        .star {
            position: absolute;
            background-color: white;
            border-radius: 50%;
            animation: twinkle 5s infinite;
        }
        
        @keyframes twinkle {
            0%, 100% { opacity: 0.2; transform: scale(1); }
            50% { opacity: 1; transform: scale(1.2); }
        }
        
        .moon {
            position: absolute;
            top: 15%;
            right: 15%;
            width: 120px;
            height: 120px;
            background: radial-gradient(circle at 30% 30%, #fef9d7 0%, #ffec80 30%, transparent 70%);
            border-radius: 50%;
            box-shadow: 0 0 60px rgba(255, 236, 128, 0.4),
                        0 0 100px rgba(255, 236, 128, 0.2);
            z-index: 1;
            animation: moonGlow 4s ease-in-out infinite alternate;
        }
        
        @keyframes moonGlow {
            0% { box-shadow: 0 0 60px rgba(255, 236, 128, 0.4),
                             0 0 100px rgba(255, 236, 128, 0.2); }
            100% { box-shadow: 0 0 80px rgba(255, 236, 128, 0.6),
                             0 0 120px rgba(255, 236, 128, 0.3),
                             0 0 150px rgba(255, 236, 128, 0.1); }
        }
        
        .opening-text {
            position: relative;
            z-index: 2;
            max-width: 800px;
            padding: 20px;
        }
        
        .opening-text h1 {
            font-size: 4rem;
            margin-bottom: 2rem;
            background: linear-gradient(to right, #ffdde1, #a8c0ff, #ffdde1);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            font-weight: 300;
            line-height: 1.3;
            background-size: 200% auto;
            animation: shimmer 3s infinite linear;
        }
        
        @keyframes shimmer {
            0% { background-position: -200% center; }
            100% { background-position: 200% center; }
        }
        
        .opening-text p {
            font-size: 1.8rem;
            color: #b0b0ff;
            opacity: 0;
            animation: fadeInUp 1.5s forwards 1.5s;
            font-weight: 300;
            letter-spacing: 1px;
        }
        
        .line {
            display: block;
            margin-bottom: 1.5rem;
            opacity: 0;
        }
        
        .line:nth-child(1) {
            animation: fadeInUp 1.5s forwards 0.8s;
        }
        
        .line:nth-child(2) {
            animation: fadeInUp 1.5s forwards 1.2s;
        }
        
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        /* Memory Section */
        #memory-section {
            background: linear-gradient(to bottom, #0a0a1a, #0d0a1f);
            padding: 100px 0;
        }
        
        .section-title {
            text-align: center;
            font-size: 3rem;
            margin-bottom: 3rem;
            background: linear-gradient(to right, #ffdde1, #a8c0ff);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            font-weight: 300;
        }
        
        .memory-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 30px;
            margin-top: 50px;
        }
        
        .polaroid {
            background: white;
            padding: 15px 15px 30px 15px;
            border-radius: 4px;
            box-shadow: 0 15px 35px rgba(168, 192, 255, 0.1);
            transform: rotate(var(--rotation, 0deg)) translateY(20px);
            transition: transform 0.5s ease, box-shadow 0.5s ease;
            cursor: pointer;
            height: 320px;
            display: flex;
            flex-direction: column;
            opacity: 0;
            animation: floatUp 0.8s forwards;
        }
        
        @keyframes floatUp {
            to {
                opacity: 1;
                transform: rotate(var(--rotation, 0deg)) translateY(0);
            }
        }
        
        .polaroid:hover {
            transform: rotate(0) scale(1.05);
            box-shadow: 0 20px 40px rgba(168, 192, 255, 0.2);
        }
        
        .polaroid-img {
            width: 100%;
            height: 220px;
            object-fit: cover;
            border-radius: 2px;
            flex-grow: 1;
            background: linear-gradient(45deg, #a8c0ff, #ffdde1);
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .polaroid-caption {
            color: #333;
            text-align: center;
            font-style: italic;
            margin-top: 15px;
            font-size: 1.1rem;
            font-weight: 500;
        }
        
        .memory-text {
            text-align: center;
            font-size: 1.8rem;
            max-width: 800px;
            margin: 50px auto;
            color: #b0b0ff;
            line-height: 1.8;
            font-weight: 300;
        }
        
        /* Reflection Section */
        #reflection-section {
            background: linear-gradient(to bottom, #0d0a1f, #0d1a2a);
        }
        
        .reflection-container {
            max-width: 900px;
            text-align: center;
            padding: 50px;
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(15px);
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3),
                        inset 0 1px 0 rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .reflection-text {
            font-size: 2.3rem;
            line-height: 1.8;
            color: #ffdde1;
            font-weight: 300;
            min-height: 300px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: 'Segoe UI', cursive;
        }
        
        .handwritten-line {
            display: block;
            margin-bottom: 1.5rem;
            opacity: 0;
        }
        
        .underline {
            height: 3px;
            background: linear-gradient(to right, transparent, #a8c0ff, #ffdde1, transparent);
            width: 0;
            margin: 30px auto 0;
            transition: width 2.5s ease;
            border-radius: 3px;
        }
        
        /* Transition Section */
        #transition-section {
            background: linear-gradient(to bottom, #0d1a2a, #1a0a2a);
        }
        
        .year-transition {
            text-align: center;
            width: 100%;
        }
        
        .year {
            font-size: 12rem;
            font-weight: 800;
            position: relative;
            margin: 0;
            transition: all 2s ease;
        }
        
        #year-2025 {
            margin-bottom: -80px;
            color: rgba(255, 221, 225, 0.2);
            text-shadow: 0 0 30px rgba(255, 221, 225, 0.3);
        }
        
        #year-2026 {
            margin-top: -80px;
            color: rgba(168, 192, 255, 0.1);
            text-shadow: 0 0 30px rgba(168, 192, 255, 0.2);
        }
        
        .transition-text {
            font-size: 2.2rem;
            color: #b0b0ff;
            margin-top: 50px;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            font-weight: 300;
        }
        
        /* Greeting Section */
        #greeting-section {
            background: linear-gradient(to bottom, #1a0a2a, #0d0a1f);
        }
        
        .greeting-container {
            max-width: 900px;
            text-align: center;
            padding: 50px;
        }
        
        .greeting-message {
            font-size: 2.1rem;
            line-height: 1.8;
            color: #f0f0f0;
            margin-bottom: 50px;
            font-weight: 300;
        }
        
        .greeting-line {
            margin-bottom: 2rem;
            opacity: 0;
        }
        
        /* Interaction Section */
        #interaction-section {
            background: linear-gradient(to bottom, #0d0a1f, #0a0a1a);
        }
        
        .interaction-container {
            text-align: center;
            max-width: 800px;
        }
        
        .reveal-button {
            background: linear-gradient(45deg, #a8c0ff, #ffdde1);
            border: none;
            padding: 20px 50px;
            font-size: 1.8rem;
            color: #0a0a1a;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.4s ease;
            box-shadow: 0 10px 30px rgba(168, 192, 255, 0.3),
                        0 0 0 0 rgba(168, 192, 255, 0.5);
            margin-bottom: 40px;
            font-weight: 500;
            position: relative;
            overflow: hidden;
        }
        
        .reveal-button:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 15px 35px rgba(168, 192, 255, 0.4),
                        0 0 0 10px rgba(168, 192, 255, 0.1);
        }
        
        .reveal-button:active {
            transform: translateY(0) scale(1);
        }
        
        .reveal-button::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: left 0.7s;
        }
        
        .reveal-button:hover::after {
            left: 100%;
        }
        
        .hidden-message {
            font-size: 2.2rem;
            color: #ffdde1;
            max-width: 700px;
            margin: 0 auto;
            padding: 30px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            opacity: 0;
            transform: translateY(20px) scale(0.9);
            transition: all 1s ease;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        /* Final Section */
        #final-section {
            background: linear-gradient(to bottom, #0a0a1a, #0c0b1d);
            overflow: hidden;
        }
        
        .final-container {
            text-align: center;
            position: relative;
            z-index: 2;
        }
        
        .final-text {
            font-size: 6rem;
            background: linear-gradient(to right, #ffdde1, #a8c0ff, #ffdde1);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            margin-bottom: 30px;
            font-weight: 300;
            animation: pulseGlow 3s infinite, shimmer 4s infinite linear;
            text-shadow: 0 0 30px rgba(255, 221, 225, 0.3);
            position: relative;
        }
        
        @keyframes pulseGlow {
            0%, 100% { 
                opacity: 0.9;
                text-shadow: 0 0 30px rgba(255, 221, 225, 0.3);
            }
            50% { 
                opacity: 1;
                text-shadow: 0 0 50px rgba(168, 192, 255, 0.5),
                             0 0 70px rgba(168, 192, 255, 0.3);
            }
        }
        
        .subtext {
            font-size: 2rem;
            color: #b0b0ff;
            max-width: 800px;
            margin: 0 auto 50px;
            font-weight: 300;
        }
        
        /* Enhanced Fireworks */
        .fireworks-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }
        
        .firework {
            position: absolute;
            width: 6px;
            height: 6px;
            border-radius: 50%;
            opacity: 0;
        }
        
        /* Enhanced Confetti */
        .confetti-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 100;
            opacity: 0;
            overflow: hidden;
        }
        
        .confetti {
            position: absolute;
            width: 12px;
            height: 12px;
            opacity: 0;
        }
        
        /* Floating Particles */
        .particles {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            z-index: 1;
        }
        
        .particle {
            position: absolute;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
        }
        
        /* Scroll Animations */
        .scroll-indicator {
            position: absolute;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            color: #b0b0ff;
            font-size: 1.2rem;
            z-index: 10;
            opacity: 0.7;
            animation: bounce 2s infinite 3s;
        }
        
        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateX(-50%) translateY(0); }
            40% { transform: translateX(-50%) translateY(-15px); }
            60% { transform: translateX(-50%) translateY(-7px); }
        }
        
        .section {
            opacity: 0;
            transform: translateY(50px);
            transition: all 1.2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }
        
        .section.active {
            opacity: 1;
            transform: translateY(0);
        }
        
        /* Responsive Design */
        @media (max-width: 768px) {
            .opening-text h1 {
                font-size: 2.8rem;
            }
            
            .moon {
                width: 80px;
                height: 80px;
                top: 10%;
                right: 10%;
            }
            
            .memory-grid {
                grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            }
            
            .year {
                font-size: 8rem;
            }
            
            .final-text {
                font-size: 4rem;
            }
            
            .reflection-text, .greeting-message {
                font-size: 1.7rem;
            }
            
            .reveal-button {
                padding: 16px 40px;
                font-size: 1.5rem;
            }
            
            .section-title {
                font-size: 2.2rem;
            }
        }
        
        /* Magic Sparkle Effect */
        .sparkle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: white;
            border-radius: 50%;
            pointer-events: none;
            z-index: 100;
        }
        
        /* New Year Countdown Effect */
        .countdown-effect {
            position: absolute;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 5;
        }
        
        .countdown-number {
            position: absolute;
            font-size: 8rem;
            font-weight: 800;
            color: rgba(255, 255, 255, 0.1);
            opacity: 0;
        }
    </style>
</head>
<body>
    <!-- Opening Scene -->
    <section id="opening-scene" class="section active">
        <div class="stars" id="stars"></div>
        <div class="moon"></div>
        <div class="particles" id="particles"></div>
        <div class="opening-text">
            <h1>
                <span class="line">Before the year changes…</span>
                <span class="line">let's pause for a moment.</span>
            </h1>
            <p>Scroll to begin the journey</p>
        </div>
        <div class="scroll-indicator">
            <i class="fas fa-chevron-down"></i>
        </div>
    </section>
    
    <!-- 2025 Memory Section -->
    <section id="memory-section" class="section">
        <div class="container">
            <h2 class="section-title">2025 gave me moments I'll always carry.</h2>
            <div class="memory-grid">
                <!-- Polaroid images will be generated by JavaScript -->
            </div>
            <div class="memory-text">
                <p>Late talks, small laughs, quiet support... all of it mattered.</p>
            </div>
        </div>
        <div class="scroll-indicator">
            <i class="fas fa-chevron-down"></i>
        </div>
    </section>
    
    <!-- Reflection Message -->
    <section id="reflection-section" class="section">
        <div class="container">
            <div class="reflection-container">
                <div class="reflection-text" id="reflection-text">
                    <!-- Text will be added by JavaScript -->
                </div>
                <div class="underline" id="underline"></div>
            </div>
        </div>
        <div class="scroll-indicator">
            <i class="fas fa-chevron-down"></i>
        </div>
    </section>
    
    <!-- Transition Section -->
    <section id="transition-section" class="section">
        <div class="container">
            <div class="year-transition">
                <h2 class="year" id="year-2025">2025</h2>
                <h2 class="year" id="year-2026">2026</h2>
                <p class="transition-text">Some years don't leave… they change us.</p>
            </div>
        </div>
        <div class="scroll-indicator">
            <i class="fas fa-chevron-down"></i>
        </div>
    </section>
    
    <!-- Greeting Message -->
    <section id="greeting-section" class="section">
        <div class="container">
            <div class="greeting-container">
                <div class="greeting-message" id="greeting-message">
                    <!-- Text will be added by JavaScript -->
                </div>
            </div>
        </div>
        <div class="scroll-indicator">
            <i class="fas fa-chevron-down"></i>
        </div>
    </section>
    
    <!-- Interaction Moment -->
    <section id="interaction-section" class="section">
        <div class="container">
            <div class="interaction-container">
                <button class="reveal-button" id="reveal-button">
                    <i class="fas fa-gift" style="margin-right: 10px;"></i>
                    One last thing…
                </button>
                <div class="hidden-message" id="hidden-message">
                    No matter where life takes us, this year begins with you in my thoughts.
                </div>
            </div>
        </div>
        <div class="scroll-indicator">
            <i class="fas fa-chevron-down"></i>
        </div>
    </section>
    
    <!-- Final Scroll -->
    <section id="final-section" class="section">
        <div class="countdown-effect" id="countdown"></div>
        <div class="container">
            <div class="final-container">
                <h1 class="final-text" id="happy-new-year">Happy New Year 2026 ✨</h1>
                <p class="subtext">With gratitude for 2025, and hope for everything ahead.</p>
            </div>
        </div>
        <div class="fireworks-container" id="fireworks"></div>
        <div class="particles" id="final-particles"></div>
    </section>
    
    <!-- Confetti Container -->
    <div class="confetti-container" id="confetti"></div>

    <script>
        // Create starfield for opening scene
        function createStars() {
            const starsContainer = document.getElementById('stars');
            const starCount = 200;
            
            for (let i = 0; i < starCount; i++) {
                const star = document.createElement('div');
                star.classList.add('star');
                
                // Random position
                const x = Math.random() * 100;
                const y = Math.random() * 100;
                
                // Random size
                const size = Math.random() * 3 + 1;
                
                // Random animation delay
                const delay = Math.random() * 5;
                
                star.style.left = `${x}%`;
                star.style.top = `${y}%`;
                star.style.width = `${size}px`;
                star.style.height = `${size}px`;
                star.style.animationDelay = `${delay}s`;
                
                starsContainer.appendChild(star);
            }
        }
        
        // Create floating particles
        function createParticles() {
            const particlesContainer = document.getElementById('particles');
            const particleCount = 50;
            
            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.classList.add('particle');
                
                // Random position
                const x = Math.random() * 100;
                const y = Math.random() * 100;
                
                // Random size
                const size = Math.random() * 5 + 1;
                
                // Random opacity
                const opacity = Math.random() * 0.2 + 0.05;
                
                // Random animation
                const duration = Math.random() * 20 + 10;
                const delay = Math.random() * 5;
                
                particle.style.left = `${x}%`;
                particle.style.top = `${y}%`;
                particle.style.width = `${size}px`;
                particle.style.height = `${size}px`;
                particle.style.opacity = opacity;
                particle.style.animation = `floatParticle ${duration}s linear infinite ${delay}s`;
                
                particlesContainer.appendChild(particle);
            }
            
            // Create CSS for particle animation
            const style = document.createElement('style');
            style.textContent = `
                @keyframes floatParticle {
                    0% { transform: translateY(0) translateX(0); }
                    25% { transform: translateY(-20px) translateX(10px); }
                    50% { transform: translateY(-40px) translateX(0); }
                    75% { transform: translateY(-20px) translateX(-10px); }
                    100% { transform: translateY(0) translateX(0); }
                }
            `;
            document.head.appendChild(style);
            
            // Create particles for final section
            const finalParticles = document.getElementById('final-particles');
            for (let i = 0; i < 30; i++) {
                const particle = document.createElement('div');
                particle.classList.add('particle');
                
                const x = Math.random() * 100;
                const y = Math.random() * 100;
                const size = Math.random() * 6 + 2;
                const opacity = Math.random() * 0.3 + 0.1;
                const duration = Math.random() * 15 + 5;
                const delay = Math.random() * 3;
                
                particle.style.left = `${x}%`;
                particle.style.top = `${y}%`;
                particle.style.width = `${size}px`;
                particle.style.height = `${size}px`;
                particle.style.opacity = opacity;
                particle.style.background = 'radial-gradient(circle, rgba(255,221,225,0.3) 0%, transparent 70%)';
                particle.style.animation = `floatParticle ${duration}s linear infinite ${delay}s`;
                
                finalParticles.appendChild(particle);
            }
        }
        
        // Create polaroid images for memory section
        function createPolaroids() {
            const memoryGrid = document.querySelector('.memory-grid');
            
            // Image data with descriptions and icons
            const images = [
                { color1: "#a8c0ff", color2: "#ffdde1", desc: "A moment of laughter", icon: "fas fa-laugh-beam" },
                { color1: "#ffdde1", color2: "#b0b0ff", desc: "Quiet reflection", icon: "fas fa-moon" },
                { color1: "#b0b0ff", color2: "#a8e6cf", desc: "Shared sunrise", icon: "fas fa-sun" },
                { color1: "#a8e6cf", color2: "#ffaaa5", desc: "Unexpected joy", icon: "fas fa-star" },
                { color1: "#ffaaa5", color2: "#dcedc1", desc: "Deep conversation", icon: "fas fa-comments" },
                { color1: "#dcedc1", color2: "#a8c0ff", desc: "Simple happiness", icon: "fas fa-heart" }
            ];
            
            images.forEach((img, index) => {
                const polaroid = document.createElement('div');
                polaroid.className = 'polaroid';
                
                // Random slight rotation between -8 and 8 degrees
                const rotation = (Math.random() * 16) - 8;
                polaroid.style.setProperty('--rotation', `${rotation}deg`);
                
                // Animation delay for staggered appearance
                polaroid.style.animationDelay = `${index * 0.2}s`;
                
                // Create colored placeholder with gradient
                const imgDiv = document.createElement('div');
                imgDiv.className = 'polaroid-img';
                imgDiv.style.background = `linear-gradient(135deg, ${img.color1} 0%, ${img.color2} 100%)`;
                
                // Add an icon to represent the image
                const icon = document.createElement('i');
                icon.className = img.icon;
                icon.style.fontSize = '4rem';
                icon.style.color = 'rgba(255, 255, 255, 0.9)';
                icon.style.textShadow = '0 2px 10px rgba(0,0,0,0.2)';
                imgDiv.appendChild(icon);
                
                const caption = document.createElement('p');
                caption.className = 'polaroid-caption';
                caption.textContent = img.desc;
                
                polaroid.appendChild(imgDiv);
                polaroid.appendChild(caption);
                
                memoryGrid.appendChild(polaroid);
            });
        }
        
        // Typewriter effect for reflection text
        function typewriterEffect(element, text, speed = 60) {
            let i = 0;
            const lines = text.split('\n');
            let currentLine = 0;
            
            function typeLine() {
                if (currentLine < lines.length) {
                    const line = lines[currentLine];
                    if (i < line.length) {
                        element.innerHTML += line.charAt(i);
                        i++;
                        setTimeout(typeLine, speed);
                    } else {
                        // Move to next line
                        element.innerHTML += '<br>';
                        i = 0;
                        currentLine++;
                        setTimeout(typeLine, speed * 3);
                    }
                } else {
                    // Text complete, show underline
                    setTimeout(() => {
                        document.getElementById('underline').style.width = '100%';
                    }, 800);
                }
            }
            
            // Clear element and start typing
            element.innerHTML = '';
            typeLine();
        }
        
        // Reveal greeting message lines one by one
        function revealGreeting() {
            const lines = [
                "As 2025 comes to a close,",
                "I just want to say thank you.",
                "For being there, even from far away.",
                "For every conversation, every moment, every memory.",
                "I hope 2026 brings you calm days,",
                "soft smiles, and everything you truly deserve."
            ];
            
            const container = document.getElementById('greeting-message');
            container.innerHTML = '';
            
            lines.forEach((line, index) => {
                const lineElement = document.createElement('p');
                lineElement.className = 'greeting-line';
                lineElement.textContent = line;
                container.appendChild(lineElement);
                
                // Animate each line with delay
                setTimeout(() => {
                    lineElement.style.opacity = '1';
                    lineElement.style.animation = 'fadeInUp 1.5s forwards';
                }, index * 800);
            });
        }
        
        // Enhanced fireworks with multiple bursts
        function createFireworks() {
            const container = document.getElementById('fireworks');
            const fireworkCount = 25;
            
            // Create multiple bursts over time
            for (let burst = 0; burst < 3; burst++) {
                setTimeout(() => {
                    for (let i = 0; i < fireworkCount; i++) {
                        createFireworkBurst(container, burst * 500);
                    }
                }, burst * 800);
            }
            
            // Continue creating fireworks periodically
            const fireworkInterval = setInterval(() => {
                for (let i = 0; i < 8; i++) {
                    createFireworkBurst(container, 0);
                }
            }, 2000);
            
            // Stop after 15 seconds
            setTimeout(() => {
                clearInterval(fireworkInterval);
            }, 15000);
        }
        
        function createFireworkBurst(container, delay) {
            setTimeout(() => {
                const firework = document.createElement('div');
                firework.className = 'firework';
                
                // Random position
                const x = Math.random() * 100;
                const y = Math.random() * 100;
                
                // Random color
                const colors = ['#ffdde1', '#a8c0ff', '#b0b0ff', '#a8e6cf', '#ffaaa5', '#ffec80'];
                const color = colors[Math.floor(Math.random() * colors.length)];
                
                firework.style.left = `${x}%`;
                firework.style.top = `${y}%`;
                firework.style.backgroundColor = color;
                firework.style.boxShadow = `0 0 15px ${color}`;
                
                container.appendChild(firework);
                
                // Create particle burst effect
                const particleCount = 30;
                for (let i = 0; i < particleCount; i++) {
                    setTimeout(() => {
                        const particle = document.createElement('div');
                        particle.className = 'firework';
                        particle.style.left = `${x}%`;
                        particle.style.top = `${y}%`;
                        particle.style.backgroundColor = color;
                        particle.style.boxShadow = `0 0 10px ${color}`;
                        particle.style.width = '4px';
                        particle.style.height = '4px';
                        
                        container.appendChild(particle);
                        
                        // Random angle for particle
                        const angle = Math.random() * Math.PI * 2;
                        const distance = Math.random() * 100 + 50;
                        const targetX = Math.cos(angle) * distance;
                        const targetY = Math.sin(angle) * distance;
                        
                        // Animate particle burst
                        const animation = particle.animate([
                            { opacity: 1, transform: 'translate(0, 0) scale(1)' },
                            { opacity: 0.5, transform: `translate(${targetX}px, ${targetY}px) scale(0.5)` },
                            { opacity: 0, transform: `translate(${targetX * 1.2}px, ${targetY * 1.2}px) scale(0)` }
                        ], {
                            duration: 1500,
                            easing: 'cubic-bezier(0.1, 0.8, 0.2, 1)'
                        });
                        
                        // Remove particle after animation
                        animation.onfinish = () => {
                            particle.remove();
                        };
                    }, i * 20);
                }
                
                // Animate the main firework
                const animation = firework.animate([
                    { opacity: 0, transform: 'scale(0)' },
                    { opacity: 1, transform: 'scale(1.5)' },
                    { opacity: 0, transform: 'scale(0.5)' }
                ], {
                    duration: 1200,
                    easing: 'ease-out'
                });
                
                // Remove element after animation
                animation.onfinish = () => {
                    firework.remove();
                };
                
            }, delay);
        }
        
        // Enhanced confetti with different shapes
        function createConfetti() {
            const container = document.getElementById('confetti');
            container.style.opacity = '1';
            
            const confettiCount = 200;
            const colors = ['#ffdde1', '#a8c0ff', '#b0b0ff', '#a8e6cf', '#ffaaa5', '#dcedc1', '#ffec80'];
            const shapes = ['circle', 'square', 'rectangle', 'triangle'];
            
            for (let i = 0; i < confettiCount; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                
                // Random position
                const x = Math.random() * 100;
                
                // Random color
                const color = colors[Math.floor(Math.random() * colors.length)];
                
                // Random shape
                const shape = shapes[Math.floor(Math.random() * shapes.length)];
                
                if (shape === 'circle') {
                    confetti.style.borderRadius = '50%';
                } else if (shape === 'square') {
                    confetti.style.borderRadius = '2px';
                } else if (shape === 'rectangle') {
                    confetti.style.width = '20px';
                    confetti.style.height = '8px';
                    confetti.style.borderRadius = '1px';
                } else if (shape === 'triangle') {
                    confetti.style.width = '0';
                    confetti.style.height = '0';
                    confetti.style.borderLeft = '7px solid transparent';
                    confetti.style.borderRight = '7px solid transparent';
                    confetti.style.borderBottom = `14px solid ${color}`;
                    confetti.style.background = 'none';
                }
                
                if (shape !== 'triangle') {
                    confetti.style.backgroundColor = color;
                    confetti.style.width = `${Math.random() * 12 + 6}px`;
                    confetti.style.height = shape === 'rectangle' ? '8px' : `${Math.random() * 12 + 6}px`;
                }
                
                confetti.style.left = `${x}%`;
                
                container.appendChild(confetti);
                
                // Random rotation
                const rotation = Math.random() * 720;
                
                // Animate confetti falling with rotation
                const animation = confetti.animate([
                    { 
                        opacity: 1, 
                        transform: `translateY(-100px) rotate(0deg)`,
                        top: '-10px'
                    },
                    { 
                        opacity: 0.8, 
                        transform: `translateY(${window.innerHeight}px) rotate(${rotation}deg)`,
                        top: `${window.innerHeight}px`
                    }
                ], {
                    duration: Math.random() * 4000 + 2000,
                    easing: 'cubic-bezier(0.215, 0.61, 0.355, 1)'
                });
                
                // Remove element after animation
                animation.onfinish = () => {
                    confetti.remove();
                };
            }
            
            // Create sparkle effect
            createSparkles();
            
            // Stop confetti after 8 seconds
            setTimeout(() => {
                container.style.opacity = '0';
                setTimeout(() => {
                    container.innerHTML = '';
                }, 1000);
            }, 8000);
        }
        
        // Create sparkle effect
        function createSparkles() {
            const container = document.getElementById('confetti');
            const sparkleCount = 50;
            
            for (let i = 0; i < sparkleCount; i++) {
                setTimeout(() => {
                    const sparkle = document.createElement('div');
                    sparkle.className = 'sparkle';
                    
                    // Random position
                    const x = Math.random() * 100;
                    const y = Math.random() * 100;
                    
                    sparkle.style.left = `${x}%`;
                    sparkle.style.top = `${y}%`;
                    
                    container.appendChild(sparkle);
                    
                    // Animate sparkle
                    const animation = sparkle.animate([
                        { opacity: 0, transform: 'scale(0)' },
                        { opacity: 1, transform: 'scale(1.5)' },
                        { opacity: 0, transform: 'scale(0)' }
                    ], {
                        duration: 1000,
                        easing: 'ease-out'
                    });
                    
                    // Remove after animation
                    animation.onfinish = () => {
                        sparkle.remove();
                    };
                }, i * 100);
            }
        }
        
        // New Year countdown effect
        function createCountdownEffect() {
            const container = document.getElementById('countdown');
            const numbers = [3, 2, 1, 0];
            
            numbers.forEach((number, index) => {
                setTimeout(() => {
                    const numberElement = document.createElement('div');
                    numberElement.className = 'countdown-number';
                    numberElement.textContent = number === 0 ? '2026!' : number;
                    numberElement.style.left = `${Math.random() * 70 + 15}%`;
                    numberElement.style.top = `${Math.random() * 70 + 15}%`;
                    
                    container.appendChild(numberElement);
                    
                    // Animate number
                    const animation = numberElement.animate([
                        { opacity: 0, transform: 'scale(0.5)' },
                        { opacity: 1, transform: 'scale(1.2)' },
                        { opacity: 0, transform: 'scale(0.5)' }
                    ], {
                        duration: 1000,
                        easing: 'ease-out'
                    });
                    
                    // Remove after animation
                    animation.onfinish = () => {
                        numberElement.remove();
                    };
                    
                    // Trigger fireworks on final number
                    if (number === 0) {
                        // Enhanced fireworks for the big moment
                        for (let i = 0; i < 15; i++) {
                            setTimeout(() => {
                                createFireworkBurst(document.getElementById('fireworks'), 0);
                            }, i * 100);
                        }
                        
                        // Make Happy New Year text more prominent
                        const happyNewYear = document.getElementById('happy-new-year');
                        happyNewYear.style.animation = 'pulseGlow 1s infinite, shimmer 3s infinite linear';
                    }
                }, index * 800);
            });
        }
        
        // Scroll animation for sections
        function handleScrollAnimations() {
            const sections = document.querySelectorAll('.section');
            const windowHeight = window.innerHeight;
            const scrollY = window.scrollY;
            
            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                const sectionHeight = section.offsetHeight;
                
                // Check if section is in view
                if (scrollY > sectionTop - windowHeight * 0.7) {
                    section.classList.add('active');
                    
                    // Trigger specific animations for each section
                    if (section.id === 'reflection-section' && !section.dataset.animated) {
                        section.dataset.animated = 'true';
                        const reflectionText = "We started as strangers,\nand somewhere along the way,\nyou became one of the most important\npeople in my life.";
                        setTimeout(() => {
                            typewriterEffect(document.getElementById('reflection-text'), reflectionText, 70);
                        }, 500);
                    }
                    
                    if (section.id === 'transition-section' && !section.dataset.animated) {
                        section.dataset.animated = 'true';
                        // Animate year transition
                        setTimeout(() => {
                            document.getElementById('year-2025').style.opacity = '0';
                            document.getElementById('year-2025').style.transform = 'translateY(-100px)';
                            document.getElementById('year-2026').style.opacity = '0.8';
                            document.getElementById('year-2026').style.color = 'rgba(168, 192, 255, 0.8)';
                            document.getElementById('year-2026').style.textShadow = '0 0 50px rgba(168, 192, 255, 0.5)';
                            document.getElementById('year-2026').style.transform = 'translateY(0)';
                        }, 800);
                    }
                    
                    if (section.id === 'greeting-section' && !section.dataset.animated) {
                        section.dataset.animated = 'true';
                        setTimeout(() => {
                            revealGreeting();
                        }, 500);
                    }
                    
                    if (section.id === 'final-section' && !section.dataset.animated) {
                        section.dataset.animated = 'true';
                        setTimeout(() => {
                            createCountdownEffect();
                            createFireworks();
                        }, 1000);
                    }
                }
            });
        }
        
        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            // Create stars
            createStars();
            
            // Create particles
            createParticles();
            
            // Create polaroids
            createPolaroids();
            
            // Set up reveal button with enhanced effect
            document.getElementById('reveal-button').addEventListener('click', function() {
                // Show hidden message with animation
                const hiddenMessage = document.getElementById('hidden-message');
                hiddenMessage.style.opacity = '1';
                hiddenMessage.style.transform = 'translateY(0) scale(1)';
                
                // Create confetti
                createConfetti();
                
                // Change button text and style
                this.innerHTML = '<i class="fas fa-heart" style="margin-right: 10px;"></i> Thank you for being part of my 2025';
                this.style.background = 'linear-gradient(45deg, #ffdde1, #ffaaa5)';
                this.style.boxShadow = '0 10px 30px rgba(255, 221, 225, 0.4)';
                this.disabled = true;
                
                // Create sparkles around button
                const buttonRect = this.getBoundingClientRect();
                for (let i = 0; i < 20; i++) {
                    setTimeout(() => {
                        const sparkle = document.createElement('div');
                        sparkle.className = 'sparkle';
                        
                        // Position around button
                        const angle = Math.random() * Math.PI * 2;
                        const distance = Math.random() * 60 + 30;
                        const x = buttonRect.left + buttonRect.width/2 + Math.cos(angle) * distance;
                        const y = buttonRect.top + buttonRect.height/2 + Math.sin(angle) * distance;
                        
                        sparkle.style.left = `${x}px`;
                        sparkle.style.top = `${y}px`;
                        sparkle.style.position = 'fixed';
                        sparkle.style.zIndex = '1000';
                        
                        document.body.appendChild(sparkle);
                        
                        // Animate sparkle
                        const animation = sparkle.animate([
                            { opacity: 0, transform: 'scale(0)' },
                            { opacity: 1, transform: 'scale(1.5)' },
                            { opacity: 0, transform: 'scale(0)' }
                        ], {
                            duration: 800,
                            easing: 'ease-out'
                        });
                        
                        // Remove after animation
                        animation.onfinish = () => {
                            sparkle.remove();
                        };
                    }, i * 100);
                }
            });
            
            // Handle scroll animations
            window.addEventListener('scroll', handleScrollAnimations);
            
            // Initial check for animations
            setTimeout(() => {
                handleScrollAnimations();
            }, 500);
            
            // Auto-scroll hint after a few seconds
            setTimeout(() => {
                document.querySelector('.scroll-indicator').style.animation = 'bounce 2s infinite';
            }, 3000);
            
            // Create floating particles on mousemove
            document.addEventListener('mousemove', function(e) {
                // Occasionally create a sparkle at mouse position
                if (Math.random() > 0.7) {
                    const sparkle = document.createElement('div');
                    sparkle.className = 'sparkle';
                    sparkle.style.left = `${e.clientX}px`;
                    sparkle.style.top = `${e.clientY}px`;
                    sparkle.style.position = 'fixed';
                    sparkle.style.zIndex = '1000';
                    
                    document.body.appendChild(sparkle);
                    
                    // Animate sparkle
                    const animation = sparkle.animate([
                        { opacity: 0, transform: 'scale(0)' },
                        { opacity: 0.8, transform: 'scale(1.2)' },
                        { opacity: 0, transform: 'scale(0)' }
                    ], {
                        duration: 600,
                        easing: 'ease-out'
                    });
                    
                    // Remove after animation
                    animation.onfinish = () => {
                        sparkle.remove();
                    };
                }
            });
        });
    </script>
</body>
</html>
